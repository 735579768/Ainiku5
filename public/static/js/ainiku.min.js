!function($,window){var _gtype=function(t){return typeof t},ainiku={};ainiku.fn=ainiku.prototype={config:{zindex:9999,animate:!1,version:"1.0.0"},init:function(t){return this.extend(t,this.config),this},drag:function(t){var e={obj:null,titleheight:50,space:!1,spacestyle:""},o=this,n=$(document),i={xxx:0,yyy:0,_x:0,_y:0,_mouseDown:!1},a=this.extend(t,e),r=a.obj,l=function(t){i.xxx=r.offset().left,i.yyy=r.offset().top,i._x=t.pageX-i.xxx,i._y=t.pageY-i.yyy},s=function(t){return r.offset().top>=0&&(0===a.titleheight||a.titleheight>=t.pageY-r.offset().top)?(r.css("cursor","move"),!0):(r.css("cursor","auto"),!1)};r.bind("mousedown",function(t){i._mouseDown=!0,l(t)}),r.bind("mousemove",function(t){if(s(t)&&i._mouseDown){var e=n.scrollTop();xx=t.pageX-i._x,yy=t.pageY-i._y-e,r.css({zIndex:o.config.zindex-1,position:"fixed",left:xx,top:yy>0?yy:0,margin:0})}return!1}),r.bind("mouseup mouseout",function(){i._mouseDown=!1})},show:function(t,e){if(this.animate){var o=t.width(),n=t.height(),i=t.outerWidth()/2,a=t.outerHeight()/2;t.css({display:"block",opacity:0,width:10,height:10,marginLeft:-5,marginTop:-5}),t.animate({opacity:1,width:o,height:n,marginLeft:-i,marginTop:-a},300,function(){})}else"function"==typeof e&&e(t)},hide:function(t,e){if(this.animate){var o=(t.width(),t.height(),t.outerWidth()/2),n=t.outerHeight()/2;t.css({top:"45%",left:"50%",marginLeft:-o,marginTop:-n}),t.animate({opacity:0,width:0,height:0,marginLeft:0,marginTop:0},200,function(){t.remove(),"function"==typeof e&&e(t)})}else t.remove(),"function"==typeof e&&e(t)},msg:function(t,e){var o=0,n="没有消息!",i="";"object"==typeof t?(n=t.info,"0"==t.status&&(o=6),t.url&&(i=t.url.replace(" ",""))):n=t;var a=[n,{shift:o},function(){"function"==typeof e&&e(t),""!=i&&(window.location.href=i)}];parent?parent.layer.msg.apply(parent.layer,a):layer.msg.apply(layer,a)},open:function(){parent?parent.layer.open.apply(parent.layer,arguments):layer.open.apply(layer,arguments)},load:function(){parent?parent.layer.load.apply(parent.layer,arguments):layer.load.apply(layer,arguments)},close:function(){parent?parent.layer.close.apply(parent.layer,arguments):layer.close.apply(layer,arguments)},maopao:function(t){var e={effect:"fade",title:"提示",content:"",button:!1,autohidden:!1,iframe:null,width:null,height:null,shijian:10},o=function(){$(".klmpmsg").animate({bottom:"-"+$(".klmpmsg").outerHeight()},2e3,function(){$(".klmpmsg").remove(),$("#dialogstyle").remove(),window.clearInterval(window.maopaoid)})},n="<style id='dialogstyle'>.klmpmsg{border-radius:5px;box-shadow:2px 2px 5px #cecece;font-family:Microsoft Yahei;overflow:hidden;position:fixed;z-index:"+this.config.zindex+";bottom:10px;right:10px;min-height:50px;min-width:100px;background-color:#FFF;border:5px solid #999;font-family:Microsoft Yahei;font-size:14px;color:#333;opacity:1;border:5px solid rgba(0,0,0,0.3);_position:absolute;_bottom:auto;_top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0)));}.klmpmsg .klmpmsgbar{height:20px;padding:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:bold;border-bottom:solid 1px #cecece;}.klmpmsg .klmpmsgbar .klmptitle{color:red;float:left;padding:0px 10px 0px 0px;}.klmpmsg .klmpmsgbar .klclose{float:right;padding:0px 10px;font-weight:bolder;cursor:pointer;color:#f00;}.klmpmsg .klmpmsgc iframe{border:none;width:100%;height:100%;}.klmpmsg .klmpmsgc{width:100%;height:100%;padding:10px;}.klmpmsg .klmpmsgbtn{float:right;display:block;padding:10px;}.klmpmsg .klmpmsgbtn a{color:#ffffff;background-color:#FE8431;border-color:#FE8431;text-decoration:none;width:auto;padding:3px 15px;font-size:16px;text-align:center;cursor:pointer;}</style>";$("#dialogstyle").remove(),$(".klmpmsg").remove(),window.clearInterval(window.maopaoid),$("body").append(n),"string"!=typeof t?e=$.extend(t,e):e.content=t;var i='<div class="klmpmsgbtn"><a href="javascript:;">确定</a></div>';e.button||(i=""),null!=e.iframe&&(e.content='<iframe src="'+e.iframe+'"></iframe>');var a='<div class="klmpmsg"><div class="klmpmsgbar"><div class="klmptitle">'+e.title+'</div><div class="klclose" title="点击关闭">X</div></div><div class="klmpmsgc">'+e.content+"</div>"+i+"</div>";$("body").append(a),$(".klmpmsg").width($(".klmpmsg").outerWidth()),$(".klmpmsg .klmpmsgbtn a,.klmpmsg .klmpmsgbar .klclose").bind("click",function(){o()}),$(".klmpmsg").css("bottom","-"+$(".klmpmsg").outerHeight()+"px"),$(".klmpmsg").animate({bottom:"20px"},1e3,function(){$(".klmpmsg").animate({bottom:"10px"},300)}),e.autohidden&&setTimeout(function(){$.maopaoMsg.msgHidden()},1e3*e.shijian),window.maopaoid=window.setInterval(function(){var t=$(".klmptitle").html();t==e.title?$(".klmptitle").html(""):$(".klmptitle").html(e.title)},1e3)},extend:function(){var t=arguments[0]||{},e=arguments[1]||this;for(var o in t)e[o]=t[o];return e},ajax:function(t){t=t||{};var e={type:"POST",url:"",data:{},success:function(t){},timeout:function(t){}};e=this.extend(t,e),$.ajax(e)},get:function(t,e,o){this.ajax({type:"GET",url:t,data:e,success:o})},loadhtml:function(t,e,o,n){"undefined"==typeof n&&(n="GET"),n=n.toUpperCase(),o.html("正在加载数据..."),this.ajax({type:n,url:t,data:e,success:function(t){o.html(t)}})},post:function(t,e,o){this.ajax({type:"POST",url:uri,data:e,success:o})},ajaxForm:function(thisobj,callback){thisobj=$(thisobj),"undefined"!=typeof arguments[2]&&(reloadbool=arguments[2]),"undefined"!=typeof arguments[1]&&(msgtime=arguments[1]);try{"function"==typeof _before_func&&_before_func();var thisobj,obj,a,url;if(a="",formobj=thisobj.parents("form"),!formobj)return!1;formobj.submit(function(t){return!1});var url=formobj.attr("action");postdata=formobj.serialize(),a="{"+a+"}",b=eval("("+a+")");var lindex=parent.layer.load(1,{shade:!1});$.ajax({url:url,type:"POST",datatype:"JSON",data:postdata,success:function(t){parent.layer.close(lindex),ank.msg(t,function(){"function"==typeof _after_func&&_after_func(t),"function"==typeof callback&&callback(t)})}})}catch(e){alert(e.name+": "+e.message)}},ajaxHref:function(t,e){t=$(t),"undefined"!=typeof arguments[2]&&(reloadbool=arguments[2]),"undefined"!=typeof arguments[1]&&(msgtime=arguments[1]),url=t.attr("href"),"undefined"==typeof url&&(url=t.attr("url"));var o=parent.layer.load(1,{shade:!1});return $.ajax({type:"POST",url:url,success:function(t){parent.layer.close(o),ank.msg(t,function(){"function"==typeof _after_func&&_after_func(t),"function"==typeof e&&e(t)})},dataType:"JSON"}),!1},writeCookie:function(t,e,o){var n="";null!=o&&(n=new Date((new Date).getTime()+36e5*o),n="; expires="+n.toGMTString()),document.cookie=t+"="+encodeURI(e)+n},readCookie:function(t){var e="",o=t+"=";return document.cookie.length>0&&(offset=document.cookie.indexOf(o),-1!=offset&&(offset+=o.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length),e=decodeURI(document.cookie.substring(offset,end)))),e}},window.ank=ainiku.fn.init({})}($,window);