!function(t){t.fn.liuLayout=function(s,i){var a=t(this).selector,e={col:4,leftmg:10,topmg:10,container:"#itemblock",items:".item",delay:800,delay2:100,addhtml:null},d=t.extend(e,s),n=d.col,h=d.leftmg,o=d.topmg,r=Math.floor((this.width()-h*(n+1))/n),m=parseInt(this.find(d.items).css("paddingLeft")),p=parseInt(this.find(d.items).css("paddingRight")),c=parseInt(this.find(d.items).css("borderLeftWidth")),l=parseInt(this.find(d.items).css("borderRightWidth")),f=r-m-p-c-l;this.css("position","relative"),this.append(d.addhtml);var u=this.find(d.items).not(".yes,.mark");u.hide(),this.find(d.items).each(function(s,i){t(this).attr("dataid",s)}),u.each(function(s,i){var e,m;if(curindex=parseInt(t(this).attr("dataid")),curindex<n)m=o,e=(parseInt(t(this).attr("dataid"))+1)*h+parseInt(t(this).attr("dataid"))*r,t(this).addClass("mark");else{var p=0,c=1e6;t(a+" .mark").each(function(s,i){var a=parseInt(t(this).css("top"))+t(this).outerHeight();c>=a&&(c=a,p=parseInt(t(this).attr("dataid")))}),t(a+" "+d.items).eq(p).removeClass("mark"),t(a+" "+d.items).eq(p).addClass("yes");m=o+c,e=parseInt(t(a+" "+d.items).eq(p).css("left"))}t(this).css({position:"absolute",left:e+"px",top:m+"px",width:f+"px"}),t(this).addClass("mark"),t(this).addClass("mark"),t(this).addClass("yesshow")}),maxh=0,this.find(d.items).each(function(s,i){var a=parseInt(t(this).css("top"))+t(this).outerHeight();a>=maxh&&(maxh=a,dataid=parseInt(t(this).attr("dataid")))}),paddingh=parseInt(this.css("paddingTop"))+parseInt(this.css("paddingBottom")),this.css("height",maxh+paddingh),window.oknum=t(a+" .yesshow").length,window.showdivid=setInterval(function(){var s=t(a+" .yesshow").eq(0);s.fadeIn(d.delay,function(){window.oknum--,0==t(a+" .yesshow").length&&clearInterval(showdivid),"function"==typeof i&&0===window.oknum&&i()}),s.removeClass("yesshow")},d.delay2)}}(jQuery);