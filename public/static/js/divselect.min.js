$(function(){!function(t){var e={},i=function(t){return t?(this.width=0,this.s_src=t,this.s_dest=null,this.op_block=null,this.op_value="",this.change=function(){},void this.init()):!1};i.prototype={s_html:'<div  class="kl-sel"><div class="kl-showtext"><span class="selvalue"></span><s class="selico"><i class="sanjiao"></i></s></div> <div class="kl-sel-op-block"> </div></div>',init:function(){var t=this,e=this.s_src;e.prev().hasClass("kl-sel")||e.before(t.s_html),this.s_dest=e.prev(),0==this.width&&this.s_dest.width(this.s_src.outerWidth()+15),e.hide(),this.op_block=this.s_dest.find(".kl-sel-op-block"),this.op_value=this.s_dest.find(".selvalue"),this.tongbu()},bind:function(t,e){this[t]=e},tongbu:function(){var e=this,i=this.op_block;i.html(""),this.op_value.html(this.s_src.find("option:selected").text()),this.s_src.find("option").each(function(e,s){var n=t(this);i.append('<div class="kl-sel-op" title="'+n.text()+'" value="'+n.val()+'">'+n.text()+"</div>")}),this.op_value.parent().click(function(t){e.op_block.show()}),this.op_block.find(".kl-sel-op").click(function(i){var s=t(this);e.op_value.html(s.text()),e.op_block.hide(),e.s_src.val(s.attr("value")),"function"==typeof e.change&&e.change(),e.s_src.change()}),t(document).bind("click",function(i){0==t(i.target).closest(".kl-sel-op-block").length&&0==t(i.target).closest(".kl-sel").length&&e.op_block.hide()}),this.s_src.change(function(t){e.tongbu()})}},window.hideSelect={},hideSelect.findByName=function(t){return e["hideselect__name__"+t]},hideSelect.findById=function(t){return e["hideselect__id__"+t]},hideSelect.getAll=function(){return e},hideSelect.tongbuByName=function(t){this.findByName(t).tongbu()},hideSelect.tongbuById=function(t){this.findById(t).tongbu()},hideSelect.hide=function(s){var n=[],l=arguments;return s.each(function(s,c){var o=t(this),h=new i(o);l[1]&&(/^\d+$/.test(l[1])?(h.width=l[1],h.s_dest.width(l[1])):h.s_dest.addClass(l[1]));var d="id__"+h.s_src.attr("id");"id__undefined"==d&&(d="name__"+h.s_src.attr("name")),"name__undefined"==d&&(d=s);var a="hideselect__"+d;e[a]=h,h.s_dest.attr("id",a),h.id=a,n.push(h)}),n},window.hideSelect=hideSelect}($)});